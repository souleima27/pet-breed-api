(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8602],{48764:function(t,e,i){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var r=i(79742),s=i(80645),n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(t){if(t>2147483647)throw RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,h.prototype),e}function h(t,e,i){if("number"==typeof t){if("string"==typeof e)throw TypeError('The "string" argument must be of type string. Received type number');return u(t)}return a(t,e,i)}function a(t,e,i){if("string"==typeof t)return function(t,e){if(("string"!=typeof e||""===e)&&(e="utf8"),!h.isEncoding(e))throw TypeError("Unknown encoding: "+e);var i=0|d(t,e),r=o(i),s=r.write(t,e);return s!==i&&(r=r.slice(0,s)),r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(T(t,Uint8Array)){var e=new Uint8Array(t);return c(e.buffer,e.byteOffset,e.byteLength)}return f(t)}(t);if(null==t)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(T(t,ArrayBuffer)||t&&T(t.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(T(t,SharedArrayBuffer)||t&&T(t.buffer,SharedArrayBuffer)))return c(t,e,i);if("number"==typeof t)throw TypeError('The "value" argument must not be of type number. Received type number');var r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return h.from(r,e,i);var s=function(t){if(h.isBuffer(t)){var e,i=0|p(t.length),r=o(i);return 0===r.length||t.copy(r,0,0,i),r}return void 0!==t.length?"number"!=typeof t.length||(e=t.length)!=e?o(0):f(t):"Buffer"===t.type&&Array.isArray(t.data)?f(t.data):void 0}(t);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return h.from(t[Symbol.toPrimitive]("string"),e,i);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function l(t){if("number"!=typeof t)throw TypeError('"size" argument must be of type number');if(t<0)throw RangeError('The value "'+t+'" is invalid for option "size"')}function u(t){return l(t),o(t<0?0:0|p(t))}function f(t){for(var e=t.length<0?0:0|p(t.length),i=o(e),r=0;r<e;r+=1)i[r]=255&t[r];return i}function c(t,e,i){var r;if(e<0||t.byteLength<e)throw RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(i||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(r=void 0===e&&void 0===i?new Uint8Array(t):void 0===i?new Uint8Array(t,e):new Uint8Array(t,e,i),h.prototype),r}function p(t){if(t>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function d(t,e){if(h.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||T(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var i=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===i)return 0;for(var s=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":return k(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return M(t).length;default:if(s)return r?-1:k(t).length;e=(""+e).toLowerCase(),s=!0}}function g(t,e,i){var s,n,o=!1;if((void 0===e||e<0)&&(e=0),e>this.length||((void 0===i||i>this.length)&&(i=this.length),i<=0||(i>>>=0)<=(e>>>=0)))return"";for(t||(t="utf8");;)switch(t){case"hex":return function(t,e,i){var r=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>r)&&(i=r);for(var s="",n=e;n<i;++n)s+=_[t[n]];return s}(this,e,i);case"utf8":case"utf-8":return m(this,e,i);case"ascii":return function(t,e,i){var r="";i=Math.min(t.length,i);for(var s=e;s<i;++s)r+=String.fromCharCode(127&t[s]);return r}(this,e,i);case"latin1":case"binary":return function(t,e,i){var r="";i=Math.min(t.length,i);for(var s=e;s<i;++s)r+=String.fromCharCode(t[s]);return r}(this,e,i);case"base64":return s=e,n=i,0===s&&n===this.length?r.fromByteArray(this):r.fromByteArray(this.slice(s,n));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(t,e,i){for(var r=t.slice(e,i),s="",n=0;n<r.length-1;n+=2)s+=String.fromCharCode(r[n]+256*r[n+1]);return s}(this,e,i);default:if(o)throw TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),o=!0}}function y(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function v(t,e,i,r,s){var n;if(0===t.length)return -1;if("string"==typeof i?(r=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),(n=i=+i)!=n&&(i=s?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(s)return -1;i=t.length-1}else if(i<0){if(!s)return -1;i=0}if("string"==typeof e&&(e=h.from(e,r)),h.isBuffer(e))return 0===e.length?-1:b(t,e,i,r,s);if("number"==typeof e)return(e&=255,"function"==typeof Uint8Array.prototype.indexOf)?s?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):b(t,[e],i,r,s);throw TypeError("val must be string, number or Buffer")}function b(t,e,i,r,s){var n,o=1,h=t.length,a=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return -1;o=2,h/=2,a/=2,i/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(s){var u=-1;for(n=i;n<h;n++)if(l(t,n)===l(e,-1===u?0:n-u)){if(-1===u&&(u=n),n-u+1===a)return u*o}else -1!==u&&(n-=n-u),u=-1}else for(i+a>h&&(i=h-a),n=i;n>=0;n--){for(var f=!0,c=0;c<a;c++)if(l(t,n+c)!==l(e,c)){f=!1;break}if(f)return n}return -1}function m(t,e,i){i=Math.min(t.length,i);for(var r=[],s=e;s<i;){var n,o,h,a,l=t[s],u=null,f=l>239?4:l>223?3:l>191?2:1;if(s+f<=i)switch(f){case 1:l<128&&(u=l);break;case 2:(192&(n=t[s+1]))==128&&(a=(31&l)<<6|63&n)>127&&(u=a);break;case 3:n=t[s+1],o=t[s+2],(192&n)==128&&(192&o)==128&&(a=(15&l)<<12|(63&n)<<6|63&o)>2047&&(a<55296||a>57343)&&(u=a);break;case 4:n=t[s+1],o=t[s+2],h=t[s+3],(192&n)==128&&(192&o)==128&&(192&h)==128&&(a=(15&l)<<18|(63&n)<<12|(63&o)<<6|63&h)>65535&&a<1114112&&(u=a)}null===u?(u=65533,f=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),s+=f}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);for(var i="",r=0;r<e;)i+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return i}(r)}function w(t,e,i){if(t%1!=0||t<0)throw RangeError("offset is not uint");if(t+e>i)throw RangeError("Trying to access beyond buffer length")}function E(t,e,i,r,s,n){if(!h.isBuffer(t))throw TypeError('"buffer" argument must be a Buffer instance');if(e>s||e<n)throw RangeError('"value" argument is out of bounds');if(i+r>t.length)throw RangeError("Index out of range")}function A(t,e,i,r,s,n){if(i+r>t.length||i<0)throw RangeError("Index out of range")}function S(t,e,i,r,n){return e=+e,i>>>=0,n||A(t,e,i,4,34028234663852886e22,-34028234663852886e22),s.write(t,e,i,r,23,4),i+4}function L(t,e,i,r,n){return e=+e,i>>>=0,n||A(t,e,i,8,17976931348623157e292,-17976931348623157e292),s.write(t,e,i,r,52,8),i+8}e.lW=h,e.h2=50,h.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(t,e,i){return a(t,e,i)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(t,e,i){return(l(t),t<=0)?o(t):void 0!==e?"string"==typeof i?o(t).fill(e,i):o(t).fill(e):o(t)},h.allocUnsafe=function(t){return u(t)},h.allocUnsafeSlow=function(t){return u(t)},h.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==h.prototype},h.compare=function(t,e){if(T(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),T(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var i=t.length,r=e.length,s=0,n=Math.min(i,r);s<n;++s)if(t[s]!==e[s]){i=t[s],r=e[s];break}return i<r?-1:r<i?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return h.alloc(0);if(void 0===e)for(i=0,e=0;i<t.length;++i)e+=t[i].length;var i,r=h.allocUnsafe(e),s=0;for(i=0;i<t.length;++i){var n=t[i];if(T(n,Uint8Array))s+n.length>r.length?h.from(n).copy(r,s):Uint8Array.prototype.set.call(r,n,s);else if(h.isBuffer(n))n.copy(r,s);else throw TypeError('"list" argument must be an Array of Buffers');s+=n.length}return r},h.byteLength=d,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},h.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},h.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},h.prototype.toString=function(){var t=this.length;return 0===t?"":0==arguments.length?m(this,0,t):g.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw TypeError("Argument must be a Buffer");return this===t||0===h.compare(this,t)},h.prototype.inspect=function(){var t="",i=e.h2;return t=this.toString("hex",0,i).replace(/(.{2})/g,"$1 ").trim(),this.length>i&&(t+=" ... "),"<Buffer "+t+">"},n&&(h.prototype[n]=h.prototype.inspect),h.prototype.compare=function(t,e,i,r,s){if(T(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===r&&(r=0),void 0===s&&(s=this.length),e<0||i>t.length||r<0||s>this.length)throw RangeError("out of range index");if(r>=s&&e>=i)return 0;if(r>=s)return -1;if(e>=i)return 1;if(e>>>=0,i>>>=0,r>>>=0,s>>>=0,this===t)return 0;for(var n=s-r,o=i-e,a=Math.min(n,o),l=this.slice(r,s),u=t.slice(e,i),f=0;f<a;++f)if(l[f]!==u[f]){n=l[f],o=u[f];break}return n<o?-1:o<n?1:0},h.prototype.includes=function(t,e,i){return -1!==this.indexOf(t,e,i)},h.prototype.indexOf=function(t,e,i){return v(this,t,e,i,!0)},h.prototype.lastIndexOf=function(t,e,i){return v(this,t,e,i,!1)},h.prototype.write=function(t,e,i,r){if(void 0===e)r="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)r=e,i=this.length,e=0;else if(isFinite(e))e>>>=0,isFinite(i)?(i>>>=0,void 0===r&&(r="utf8")):(r=i,i=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s,n,o,h,a,l,u,f,c=this.length-e;if((void 0===i||i>c)&&(i=c),t.length>0&&(i<0||e<0)||e>this.length)throw RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var p=!1;;)switch(r){case"hex":return function(t,e,i,r){i=Number(i)||0;var s=t.length-i;r?(r=Number(r))>s&&(r=s):r=s;var n=e.length;r>n/2&&(r=n/2);for(var o=0;o<r;++o){var h=parseInt(e.substr(2*o,2),16);if(h!=h)break;t[i+o]=h}return o}(this,t,e,i);case"utf8":case"utf-8":return s=e,n=i,z(k(t,this.length-s),this,s,n);case"ascii":case"latin1":case"binary":return o=e,h=i,z(function(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}(t),this,o,h);case"base64":return a=e,l=i,z(M(t),this,a,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u=e,f=i,z(function(t,e){for(var i,r,s=[],n=0;n<t.length&&!((e-=2)<0);++n)r=(i=t.charCodeAt(n))>>8,s.push(i%256),s.push(r);return s}(t,this.length-u),this,u,f);default:if(p)throw TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),p=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},h.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i)<0&&(t=0):t>i&&(t=i),e<0?(e+=i)<0&&(e=0):e>i&&(e=i),e<t&&(e=t);var r=this.subarray(t,e);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(t,e,i){t>>>=0,e>>>=0,i||w(t,e,this.length);for(var r=this[t],s=1,n=0;++n<e&&(s*=256);)r+=this[t+n]*s;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,e,i){t>>>=0,e>>>=0,i||w(t,e,this.length);for(var r=this[t+--e],s=1;e>0&&(s*=256);)r+=this[t+--e]*s;return r},h.prototype.readUint8=h.prototype.readUInt8=function(t,e){return t>>>=0,e||w(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,e){return t>>>=0,e||w(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,e){return t>>>=0,e||w(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,e){return t>>>=0,e||w(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,e){return t>>>=0,e||w(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readIntLE=function(t,e,i){t>>>=0,e>>>=0,i||w(t,e,this.length);for(var r=this[t],s=1,n=0;++n<e&&(s*=256);)r+=this[t+n]*s;return r>=(s*=128)&&(r-=Math.pow(2,8*e)),r},h.prototype.readIntBE=function(t,e,i){t>>>=0,e>>>=0,i||w(t,e,this.length);for(var r=e,s=1,n=this[t+--r];r>0&&(s*=256);)n+=this[t+--r]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*e)),n},h.prototype.readInt8=function(t,e){return(t>>>=0,e||w(t,1,this.length),128&this[t])?-((255-this[t]+1)*1):this[t]},h.prototype.readInt16LE=function(t,e){t>>>=0,e||w(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt16BE=function(t,e){t>>>=0,e||w(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},h.prototype.readInt32LE=function(t,e){return t>>>=0,e||w(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t>>>=0,e||w(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readFloatLE=function(t,e){return t>>>=0,e||w(t,4,this.length),s.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t>>>=0,e||w(t,4,this.length),s.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t>>>=0,e||w(t,8,this.length),s.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t>>>=0,e||w(t,8,this.length),s.read(this,t,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,e,i,r){if(t=+t,e>>>=0,i>>>=0,!r){var s=Math.pow(2,8*i)-1;E(this,t,e,i,s,0)}var n=1,o=0;for(this[e]=255&t;++o<i&&(n*=256);)this[e+o]=t/n&255;return e+i},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,e,i,r){if(t=+t,e>>>=0,i>>>=0,!r){var s=Math.pow(2,8*i)-1;E(this,t,e,i,s,0)}var n=i-1,o=1;for(this[e+n]=255&t;--n>=0&&(o*=256);)this[e+n]=t/o&255;return e+i},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,1,255,0),this[e]=255&t,e+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeIntLE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var s=Math.pow(2,8*i-1);E(this,t,e,i,s-1,-s)}var n=0,o=1,h=0;for(this[e]=255&t;++n<i&&(o*=256);)t<0&&0===h&&0!==this[e+n-1]&&(h=1),this[e+n]=(t/o>>0)-h&255;return e+i},h.prototype.writeIntBE=function(t,e,i,r){if(t=+t,e>>>=0,!r){var s=Math.pow(2,8*i-1);E(this,t,e,i,s-1,-s)}var n=i-1,o=1,h=0;for(this[e+n]=255&t;--n>=0&&(o*=256);)t<0&&0===h&&0!==this[e+n+1]&&(h=1),this[e+n]=(t/o>>0)-h&255;return e+i},h.prototype.writeInt8=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},h.prototype.writeInt16LE=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},h.prototype.writeInt32LE=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,i){return t=+t,e>>>=0,i||E(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},h.prototype.writeFloatLE=function(t,e,i){return S(this,t,e,!0,i)},h.prototype.writeFloatBE=function(t,e,i){return S(this,t,e,!1,i)},h.prototype.writeDoubleLE=function(t,e,i){return L(this,t,e,!0,i)},h.prototype.writeDoubleBE=function(t,e,i){return L(this,t,e,!1,i)},h.prototype.copy=function(t,e,i,r){if(!h.isBuffer(t))throw TypeError("argument should be a Buffer");if(i||(i=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<i&&(r=i),r===i||0===t.length||0===this.length)return 0;if(e<0)throw RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw RangeError("Index out of range");if(r<0)throw RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-i&&(r=t.length-e+i);var s=r-i;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,i,r):Uint8Array.prototype.set.call(t,this.subarray(i,r),e),s},h.prototype.fill=function(t,e,i,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,i=this.length):"string"==typeof i&&(r=i,i=this.length),void 0!==r&&"string"!=typeof r)throw TypeError("encoding must be a string");if("string"==typeof r&&!h.isEncoding(r))throw TypeError("Unknown encoding: "+r);if(1===t.length){var s,n=t.charCodeAt(0);("utf8"===r&&n<128||"latin1"===r)&&(t=n)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<i)throw RangeError("Out of range index");if(i<=e)return this;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"==typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=h.isBuffer(t)?t:h.from(t,r),a=o.length;if(0===a)throw TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var x=/[^+/0-9A-Za-z-_]/g;function k(t,e){e=e||1/0;for(var i,r=t.length,s=null,n=[],o=0;o<r;++o){if((i=t.charCodeAt(o))>55295&&i<57344){if(!s){if(i>56319||o+1===r){(e-=3)>-1&&n.push(239,191,189);continue}s=i;continue}if(i<56320){(e-=3)>-1&&n.push(239,191,189),s=i;continue}i=(s-55296<<10|i-56320)+65536}else s&&(e-=3)>-1&&n.push(239,191,189);if(s=null,i<128){if((e-=1)<0)break;n.push(i)}else if(i<2048){if((e-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else if(i<1114112){if((e-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}else throw Error("Invalid code point")}return n}function M(t){return r.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(x,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function z(t,e,i,r){for(var s=0;s<r&&!(s+i>=e.length)&&!(s>=t.length);++s)e[s+i]=t[s];return s}function T(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}var _=function(){for(var t="0123456789abcdef",e=Array(256),i=0;i<16;++i)for(var r=16*i,s=0;s<16;++s)e[r+s]=t[i]+t[s];return e}()},48168:function(t,e,i){var r=i(8874),s={};for(var n in r)r.hasOwnProperty(n)&&(s[r[n]]=n);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var h in o)if(o.hasOwnProperty(h)){if(!("channels"in o[h]))throw Error("missing channels property: "+h);if(!("labels"in o[h]))throw Error("missing channel labels property: "+h);if(o[h].labels.length!==o[h].channels)throw Error("channel and label counts mismatch: "+h);var a=o[h].channels,l=o[h].labels;delete o[h].channels,delete o[h].labels,Object.defineProperty(o[h],"channels",{value:a}),Object.defineProperty(o[h],"labels",{value:l})}o.rgb.hsl=function(t){var e,i,r=t[0]/255,s=t[1]/255,n=t[2]/255,o=Math.min(r,s,n),h=Math.max(r,s,n),a=h-o;return h===o?e=0:r===h?e=(s-n)/a:s===h?e=2+(n-r)/a:n===h&&(e=4+(r-s)/a),(e=Math.min(60*e,360))<0&&(e+=360),i=(o+h)/2,[e,100*(h===o?0:i<=.5?a/(h+o):a/(2-h-o)),100*i]},o.rgb.hsv=function(t){var e,i,r,s,n,o=t[0]/255,h=t[1]/255,a=t[2]/255,l=Math.max(o,h,a),u=l-Math.min(o,h,a),f=function(t){return(l-t)/6/u+.5};return 0===u?s=n=0:(n=u/l,e=f(o),i=f(h),r=f(a),o===l?s=r-i:h===l?s=1/3+e-r:a===l&&(s=2/3+i-e),s<0?s+=1:s>1&&(s-=1)),[360*s,100*n,100*l]},o.rgb.hwb=function(t){var e=t[0],i=t[1],r=t[2];return[o.rgb.hsl(t)[0],100*(1/255*Math.min(e,Math.min(i,r))),100*(r=1-1/255*Math.max(e,Math.max(i,r)))]},o.rgb.cmyk=function(t){var e,i=t[0]/255,r=t[1]/255,s=t[2]/255;return e=Math.min(1-i,1-r,1-s),[100*((1-i-e)/(1-e)||0),100*((1-r-e)/(1-e)||0),100*((1-s-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var e,i=s[t];if(i)return i;var n=1/0;for(var o in r)if(r.hasOwnProperty(o)){var h=r[o],a=Math.pow(t[0]-h[0],2)+Math.pow(t[1]-h[1],2)+Math.pow(t[2]-h[2],2);a<n&&(n=a,e=o)}return e},o.keyword.rgb=function(t){return r[t]},o.rgb.xyz=function(t){var e=t[0]/255,i=t[1]/255,r=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.1805*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)),100*(.2126*e+.7152*i+.0722*r),100*(.0193*e+.1192*i+.9505*r)]},o.rgb.lab=function(t){var e=o.rgb.xyz(t),i=e[0],r=e[1],s=e[2];return i/=95.047,r/=100,s/=108.883,i=i>.008856?Math.pow(i,1/3):7.787*i+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(i-r),200*(r-(s=s>.008856?Math.pow(s,1/3):7.787*s+16/116))]},o.hsl.rgb=function(t){var e,i,r,s,n,o=t[0]/360,h=t[1]/100,a=t[2]/100;if(0===h)return[n=255*a,n,n];i=a<.5?a*(1+h):a+h-a*h,e=2*a-i,s=[0,0,0];for(var l=0;l<3;l++)(r=o+-(1/3*(l-1)))<0&&r++,r>1&&r--,n=6*r<1?e+(i-e)*6*r:2*r<1?i:3*r<2?e+(i-e)*(2/3-r)*6:e,s[l]=255*n;return s},o.hsl.hsv=function(t){var e,i=t[0],r=t[1]/100,s=t[2]/100,n=r,o=Math.max(s,.01);return s*=2,r*=s<=1?s:2-s,n*=o<=1?o:2-o,e=(s+r)/2,[i,100*(0===s?2*n/(o+n):2*r/(s+r)),100*e]},o.hsv.rgb=function(t){var e=t[0]/60,i=t[1]/100,r=t[2]/100,s=e-Math.floor(e),n=255*r*(1-i),o=255*r*(1-i*s),h=255*r*(1-i*(1-s));switch(r*=255,Math.floor(e)%6){case 0:return[r,h,n];case 1:return[o,r,n];case 2:return[n,r,h];case 3:return[n,o,r];case 4:return[h,n,r];case 5:return[r,n,o]}},o.hsv.hsl=function(t){var e,i,r,s=t[0],n=t[1]/100,o=t[2]/100,h=Math.max(o,.01);return r=(2-n)*o,e=(2-n)*h,[s,100*(n*h/(e<=1?e:2-e)||0),100*(r/=2)]},o.hwb.rgb=function(t){var e,i,r,s,n,o,h,a=t[0]/360,l=t[1]/100,u=t[2]/100,f=l+u;switch(f>1&&(l/=f,u/=f),e=Math.floor(6*a),i=1-u,r=6*a-e,(1&e)!=0&&(r=1-r),s=l+r*(i-l),e){default:case 6:case 0:n=i,o=s,h=l;break;case 1:n=s,o=i,h=l;break;case 2:n=l,o=i,h=s;break;case 3:n=l,o=s,h=i;break;case 4:n=s,o=l,h=i;break;case 5:n=i,o=l,h=s}return[255*n,255*o,255*h]},o.cmyk.rgb=function(t){var e=t[0]/100,i=t[1]/100,r=t[2]/100,s=t[3]/100;return[255*(1-Math.min(1,e*(1-s)+s)),255*(1-Math.min(1,i*(1-s)+s)),255*(1-Math.min(1,r*(1-s)+s))]},o.xyz.rgb=function(t){var e,i,r,s=t[0]/100,n=t[1]/100,o=t[2]/100;return e=3.2406*s+-1.5372*n+-.4986*o,i=-.9689*s+1.8758*n+.0415*o,r=.0557*s+-.204*n+1.057*o,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,[255*(e=Math.min(Math.max(0,e),1)),255*(i=Math.min(Math.max(0,i),1)),255*(r=Math.min(Math.max(0,r),1))]},o.xyz.lab=function(t){var e=t[0],i=t[1],r=t[2];return e/=95.047,i/=100,r/=108.883,e=e>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(e-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.lab.xyz=function(t){var e,i,r,s=t[0],n=t[1],o=t[2];e=n/500+(i=(s+16)/116),r=i-o/200;var h=Math.pow(i,3),a=Math.pow(e,3),l=Math.pow(r,3);return i=(h>.008856?h:(i-16/116)/7.787)*100,[e=(a>.008856?a:(e-16/116)/7.787)*95.047,i,r=(l>.008856?l:(r-16/116)/7.787)*108.883]},o.lab.lch=function(t){var e,i=t[0],r=t[1],s=t[2];return(e=360*Math.atan2(s,r)/2/Math.PI)<0&&(e+=360),[i,Math.sqrt(r*r+s*s),e]},o.lch.lab=function(t){var e,i=t[0],r=t[1];return[i,r*Math.cos(e=t[2]/360*2*Math.PI),r*Math.sin(e)]},o.rgb.ansi16=function(t){var e=t[0],i=t[1],r=t[2],s=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(s=Math.round(s/50)))return 30;var n=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(e/255));return 2===s&&(n+=60),n},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],i=t[1],r=t[2];return e===i&&i===r?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var i=(~~(t>50)+1)*.5;return[(1&e)*i*255,(e>>1&1)*i*255,(e>>2&1)*i*255]},o.ansi256.rgb=function(t){if(t>=232){var e,i=(t-232)*10+8;return[i,i,i]}return[Math.floor((t-=16)/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},o.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var i=e[0];3===e[0].length&&(i=i.split("").map(function(t){return t+t}).join(""));var r=parseInt(i,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(t){var e=t[0]/255,i=t[1]/255,r=t[2]/255,s=Math.max(Math.max(e,i),r),n=Math.min(Math.min(e,i),r),o=s-n;return[360*((o<=0?0:s===e?(i-r)/o%6:s===i?2+(r-e)/o:4+(e-i)/o+4)/6%1),100*o,100*(o<1?n/(1-o):0)]},o.hsl.hcg=function(t){var e=t[1]/100,i=t[2]/100,r=1,s=0;return(r=i<.5?2*e*i:2*e*(1-i))<1&&(s=(i-.5*r)/(1-r)),[t[0],100*r,100*s]},o.hsv.hcg=function(t){var e=t[1]/100,i=t[2]/100,r=e*i,s=0;return r<1&&(s=(i-r)/(1-r)),[t[0],100*r,100*s]},o.hcg.rgb=function(t){var e=t[0]/360,i=t[1]/100,r=t[2]/100;if(0===i)return[255*r,255*r,255*r];var s=[0,0,0],n=e%1*6,o=n%1,h=1-o,a=0;switch(Math.floor(n)){case 0:s[0]=1,s[1]=o,s[2]=0;break;case 1:s[0]=h,s[1]=1,s[2]=0;break;case 2:s[0]=0,s[1]=1,s[2]=o;break;case 3:s[0]=0,s[1]=h,s[2]=1;break;case 4:s[0]=o,s[1]=0,s[2]=1;break;default:s[0]=1,s[1]=0,s[2]=h}return a=(1-i)*r,[(i*s[0]+a)*255,(i*s[1]+a)*255,(i*s[2]+a)*255]},o.hcg.hsv=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e),r=0;return i>0&&(r=e/i),[t[0],100*r,100*i]},o.hcg.hsl=function(t){var e=t[1]/100,i=t[2]/100*(1-e)+.5*e,r=0;return i>0&&i<.5?r=e/(2*i):i>=.5&&i<1&&(r=e/(2*(1-i))),[t[0],100*r,100*i]},o.hcg.hwb=function(t){var e=t[1]/100,i=e+t[2]/100*(1-e);return[t[0],(i-e)*100,(1-i)*100]},o.hwb.hcg=function(t){var e=t[1]/100,i=1-t[2]/100,r=i-e,s=0;return r<1&&(s=(i-r)/(1-r)),[t[0],100*r,100*s]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),i=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(i.length)+i},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},12085:function(t,e,i){var r=i(48168),s=i(4111),n={};Object.keys(r).forEach(function(t){n[t]={},Object.defineProperty(n[t],"channels",{value:r[t].channels}),Object.defineProperty(n[t],"labels",{value:r[t].labels});var e=s(t);Object.keys(e).forEach(function(i){var r,s,o=e[i];n[t][i]=(r=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var e=o(t);if("object"==typeof e)for(var i=e.length,r=0;r<i;r++)e[r]=Math.round(e[r]);return e},"conversion"in o&&(r.conversion=o.conversion),r),n[t][i].raw=(s=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),o(t))},"conversion"in o&&(s.conversion=o.conversion),s)})}),t.exports=n},4111:function(t,e,i){var r=i(48168);t.exports=function(t){for(var e=function(t){var e=function(){for(var t={},e=Object.keys(r),i=e.length,s=0;s<i;s++)t[e[s]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;)for(var s=i.pop(),n=Object.keys(r[s]),o=n.length,h=0;h<o;h++){var a=n[h],l=e[a];-1===l.distance&&(l.distance=e[s].distance+1,l.parent=s,i.unshift(a))}return e}(t),i={},s=Object.keys(e),n=s.length,o=0;o<n;o++){var h=s[o];null!==e[h].parent&&(i[h]=function(t,e){for(var i=[e[t].parent,t],s=r[e[t].parent][t],n=e[t].parent;e[n].parent;)i.unshift(e[n].parent),s=function(t,e){return function(i){return e(t(i))}}(r[e[n].parent][n],s),n=e[n].parent;return s.conversion=i,s}(h,e))}return i}},26406:function(t,e,i){"use strict";i.d(e,{z:function(){return g}});var r=i(34155);let s="object"==typeof performance&&performance&&"function"==typeof performance.now?performance:Date,n=new Set,o="object"==typeof r&&r?r:{},h=(t,e,i,r)=>{"function"==typeof o.emitWarning?o.emitWarning(t,e,i,r):console.error(`[${i}] ${e}: ${t}`)},a=globalThis.AbortController,l=globalThis.AbortSignal;if(void 0===a){l=class{onabort;_onabort=[];reason;aborted=!1;addEventListener(t,e){this._onabort.push(e)}},a=class{constructor(){e()}signal=new l;abort(t){if(!this.signal.aborted){for(let e of(this.signal.reason=t,this.signal.aborted=!0,this.signal._onabort))e(t);this.signal.onabort?.(t)}}};let t=o.env?.LRU_CACHE_IGNORE_AC_WARNING!=="1",e=()=>{t&&(t=!1,h("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}let u=t=>!n.has(t);Symbol("type");let f=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),c=t=>f(t)?t<=256?Uint8Array:t<=65536?Uint16Array:t<=4294967296?Uint32Array:t<=Number.MAX_SAFE_INTEGER?p:null:null;class p extends Array{constructor(t){super(t),this.fill(0)}}class d{heap;length;static #t=!1;static create(t){let e=c(t);if(!e)return[];d.#t=!0;let i=new d(t,e);return d.#t=!1,i}constructor(t,e){if(!d.#t)throw TypeError("instantiate Stack using Stack.create(n)");this.heap=new e(t),this.length=0}push(t){this.heap[this.length++]=t}pop(){return this.heap[--this.length]}}class g{#e;#i;#r;#s;#n;#o;ttl;ttlResolution;ttlAutopurge;updateAgeOnGet;updateAgeOnHas;allowStale;noDisposeOnSet;noUpdateTTL;maxEntrySize;sizeCalculation;noDeleteOnFetchRejection;noDeleteOnStaleGet;allowStaleOnFetchAbort;allowStaleOnFetchRejection;ignoreFetchAbort;#h;#a;#l;#u;#f;#c;#p;#d;#g;#y;#v;#b;#m;#w;#E;#A;#S;static unsafeExposeInternals(t){return{starts:t.#m,ttls:t.#w,sizes:t.#b,keyMap:t.#l,keyList:t.#u,valList:t.#f,next:t.#c,prev:t.#p,get head(){return t.#d},get tail(){return t.#g},free:t.#y,isBackgroundFetch:e=>t.#L(e),backgroundFetch:(e,i,r,s)=>t.#x(e,i,r,s),moveToTail:e=>t.#k(e),indexes:e=>t.#M(e),rindexes:e=>t.#z(e),isStale:e=>t.#T(e)}}get max(){return this.#e}get maxSize(){return this.#i}get calculatedSize(){return this.#a}get size(){return this.#h}get fetchMethod(){return this.#n}get memoMethod(){return this.#o}get dispose(){return this.#r}get disposeAfter(){return this.#s}constructor(t){let{max:e=0,ttl:i,ttlResolution:r=1,ttlAutopurge:s,updateAgeOnGet:o,updateAgeOnHas:a,allowStale:l,dispose:p,disposeAfter:y,noDisposeOnSet:v,noUpdateTTL:b,maxSize:m=0,maxEntrySize:w=0,sizeCalculation:E,fetchMethod:A,memoMethod:S,noDeleteOnFetchRejection:L,noDeleteOnStaleGet:x,allowStaleOnFetchRejection:k,allowStaleOnFetchAbort:M,ignoreFetchAbort:z}=t;if(0!==e&&!f(e))throw TypeError("max option must be a nonnegative integer");let T=e?c(e):Array;if(!T)throw Error("invalid max value: "+e);if(this.#e=e,this.#i=m,this.maxEntrySize=w||this.#i,this.sizeCalculation=E,this.sizeCalculation){if(!this.#i&&!this.maxEntrySize)throw TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw TypeError("sizeCalculation set to non-function")}if(void 0!==S&&"function"!=typeof S)throw TypeError("memoMethod must be a function if defined");if(this.#o=S,void 0!==A&&"function"!=typeof A)throw TypeError("fetchMethod must be a function if specified");if(this.#n=A,this.#A=!!A,this.#l=new Map,this.#u=Array(e).fill(void 0),this.#f=Array(e).fill(void 0),this.#c=new T(e),this.#p=new T(e),this.#d=0,this.#g=0,this.#y=d.create(e),this.#h=0,this.#a=0,"function"==typeof p&&(this.#r=p),"function"==typeof y?(this.#s=y,this.#v=[]):(this.#s=void 0,this.#v=void 0),this.#E=!!this.#r,this.#S=!!this.#s,this.noDisposeOnSet=!!v,this.noUpdateTTL=!!b,this.noDeleteOnFetchRejection=!!L,this.allowStaleOnFetchRejection=!!k,this.allowStaleOnFetchAbort=!!M,this.ignoreFetchAbort=!!z,0!==this.maxEntrySize){if(0!==this.#i&&!f(this.#i))throw TypeError("maxSize must be a positive integer if specified");if(!f(this.maxEntrySize))throw TypeError("maxEntrySize must be a positive integer if specified");this.#_()}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!x,this.updateAgeOnGet=!!o,this.updateAgeOnHas=!!a,this.ttlResolution=f(r)||0===r?r:1,this.ttlAutopurge=!!s,this.ttl=i||0,this.ttl){if(!f(this.ttl))throw TypeError("ttl must be a positive integer if specified");this.#B()}if(0===this.#e&&0===this.ttl&&0===this.#i)throw TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.#e&&!this.#i){let t="LRU_CACHE_UNBOUNDED";u(t)&&(n.add(t),h("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",t,g))}}getRemainingTTL(t){return this.#l.has(t)?1/0:0}#B(){let t=new p(this.#e),e=new p(this.#e);this.#w=t,this.#m=e,this.#F=(i,r,n=s.now())=>{if(e[i]=0!==r?n:0,t[i]=r,0!==r&&this.ttlAutopurge){let t=setTimeout(()=>{this.#T(i)&&this.#O(this.#u[i],"expire")},r+1);t.unref&&t.unref()}},this.#U=i=>{e[i]=0!==t[i]?s.now():0},this.#I=(s,n)=>{if(t[n]){let o=t[n],h=e[n];if(!o||!h)return;s.ttl=o,s.start=h,s.now=i||r();let a=s.now-h;s.remainingTTL=o-a}};let i=0,r=()=>{let t=s.now();if(this.ttlResolution>0){i=t;let e=setTimeout(()=>i=0,this.ttlResolution);e.unref&&e.unref()}return t};this.getRemainingTTL=s=>{let n=this.#l.get(s);if(void 0===n)return 0;let o=t[n],h=e[n];if(!o||!h)return 1/0;let a=(i||r())-h;return o-a},this.#T=s=>{let n=e[s],o=t[s];return!!o&&!!n&&(i||r())-n>o}}#U=()=>{};#I=()=>{};#F=()=>{};#T=()=>!1;#_(){let t=new p(this.#e);this.#a=0,this.#b=t,this.#R=e=>{this.#a-=t[e],t[e]=0},this.#C=(t,e,i,r)=>{if(this.#L(e))return 0;if(!f(i)){if(r){if("function"!=typeof r)throw TypeError("sizeCalculation must be a function");if(!f(i=r(e,t)))throw TypeError("sizeCalculation return invalid (expect positive integer)")}else throw TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.")}return i},this.#D=(e,i,r)=>{if(t[e]=i,this.#i){let i=this.#i-t[e];for(;this.#a>i;)this.#j(!0)}this.#a+=t[e],r&&(r.entrySize=i,r.totalCalculatedSize=this.#a)}}#R=t=>{};#D=(t,e,i)=>{};#C=(t,e,i,r)=>{if(i||r)throw TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0};*#M({allowStale:y=this.allowStale}={}){if(this.#h)for(let t=this.#g;this.#W(t)&&((y||!this.#T(t))&&(yield t),t!==this.#d);)t=this.#p[t]}*#z({allowStale:v=this.allowStale}={}){if(this.#h)for(let t=this.#d;this.#W(t)&&((v||!this.#T(t))&&(yield t),t!==this.#g);)t=this.#c[t]}#W(b){return void 0!==b&&this.#l.get(this.#u[b])===b}*entries(){for(let t of this.#M())void 0===this.#f[t]||void 0===this.#u[t]||this.#L(this.#f[t])||(yield[this.#u[t],this.#f[t]])}*rentries(){for(let t of this.#z())void 0===this.#f[t]||void 0===this.#u[t]||this.#L(this.#f[t])||(yield[this.#u[t],this.#f[t]])}*keys(){for(let t of this.#M()){let e=this.#u[t];void 0===e||this.#L(this.#f[t])||(yield e)}}*rkeys(){for(let t of this.#z()){let e=this.#u[t];void 0===e||this.#L(this.#f[t])||(yield e)}}*values(){for(let t of this.#M()){let e=this.#f[t];void 0===e||this.#L(this.#f[t])||(yield this.#f[t])}}*rvalues(){for(let t of this.#z()){let e=this.#f[t];void 0===e||this.#L(this.#f[t])||(yield this.#f[t])}}[Symbol.iterator](){return this.entries()}[Symbol.toStringTag]="LRUCache";find(t,e={}){for(let i of this.#M()){let r=this.#f[i],s=this.#L(r)?r.__staleWhileFetching:r;if(void 0!==s&&t(s,this.#u[i],this))return this.get(this.#u[i],e)}}forEach(t,e=this){for(let i of this.#M()){let r=this.#f[i],s=this.#L(r)?r.__staleWhileFetching:r;void 0!==s&&t.call(e,s,this.#u[i],this)}}rforEach(t,e=this){for(let i of this.#z()){let r=this.#f[i],s=this.#L(r)?r.__staleWhileFetching:r;void 0!==s&&t.call(e,s,this.#u[i],this)}}purgeStale(){let t=!1;for(let e of this.#z({allowStale:!0}))this.#T(e)&&(this.#O(this.#u[e],"expire"),t=!0);return t}info(t){let e=this.#l.get(t);if(void 0===e)return;let i=this.#f[e],r=this.#L(i)?i.__staleWhileFetching:i;if(void 0===r)return;let n={value:r};if(this.#w&&this.#m){let t=this.#w[e],i=this.#m[e];if(t&&i){let e=t-(s.now()-i);n.ttl=e,n.start=Date.now()}}return this.#b&&(n.size=this.#b[e]),n}dump(){let t=[];for(let e of this.#M({allowStale:!0})){let i=this.#u[e],r=this.#f[e],n=this.#L(r)?r.__staleWhileFetching:r;if(void 0===n||void 0===i)continue;let o={value:n};if(this.#w&&this.#m){o.ttl=this.#w[e];let t=s.now()-this.#m[e];o.start=Math.floor(Date.now()-t)}this.#b&&(o.size=this.#b[e]),t.unshift([i,o])}return t}load(t){for(let[e,i]of(this.clear(),t)){if(i.start){let t=Date.now()-i.start;i.start=s.now()-t}this.set(e,i.value,i)}}set(t,e,i={}){if(void 0===e)return this.delete(t),this;let{ttl:r=this.ttl,start:s,noDisposeOnSet:n=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:h}=i,{noUpdateTTL:a=this.noUpdateTTL}=i,l=this.#C(t,e,i.size||0,o);if(this.maxEntrySize&&l>this.maxEntrySize)return h&&(h.set="miss",h.maxEntrySizeExceeded=!0),this.#O(t,"set"),this;let u=0===this.#h?void 0:this.#l.get(t);if(void 0===u)u=0===this.#h?this.#g:0!==this.#y.length?this.#y.pop():this.#h===this.#e?this.#j(!1):this.#h,this.#u[u]=t,this.#f[u]=e,this.#l.set(t,u),this.#c[this.#g]=u,this.#p[u]=this.#g,this.#g=u,this.#h++,this.#D(u,l,h),h&&(h.set="add"),a=!1;else{this.#k(u);let i=this.#f[u];if(e!==i){if(this.#A&&this.#L(i)){i.__abortController.abort(Error("replaced"));let{__staleWhileFetching:e}=i;void 0!==e&&!n&&(this.#E&&this.#r?.(e,t,"set"),this.#S&&this.#v?.push([e,t,"set"]))}else!n&&(this.#E&&this.#r?.(i,t,"set"),this.#S&&this.#v?.push([i,t,"set"]));if(this.#R(u),this.#D(u,l,h),this.#f[u]=e,h){h.set="replace";let t=i&&this.#L(i)?i.__staleWhileFetching:i;void 0!==t&&(h.oldValue=t)}}else h&&(h.set="update")}if(0===r||this.#w||this.#B(),this.#w&&(a||this.#F(u,r,s),h&&this.#I(h,u)),!n&&this.#S&&this.#v){let t;let e=this.#v;for(;t=e?.shift();)this.#s?.(...t)}return this}pop(){try{for(;this.#h;){let t=this.#f[this.#d];if(this.#j(!0),this.#L(t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(this.#S&&this.#v){let t;let e=this.#v;for(;t=e?.shift();)this.#s?.(...t)}}}#j(m){let t=this.#d,e=this.#u[t],i=this.#f[t];return this.#A&&this.#L(i)?i.__abortController.abort(Error("evicted")):(this.#E||this.#S)&&(this.#E&&this.#r?.(i,e,"evict"),this.#S&&this.#v?.push([i,e,"evict"])),this.#R(t),m&&(this.#u[t]=void 0,this.#f[t]=void 0,this.#y.push(t)),1===this.#h?(this.#d=this.#g=0,this.#y.length=0):this.#d=this.#c[t],this.#l.delete(e),this.#h--,t}has(t,e={}){let{updateAgeOnHas:i=this.updateAgeOnHas,status:r}=e,s=this.#l.get(t);if(void 0!==s){let t=this.#f[s];if(this.#L(t)&&void 0===t.__staleWhileFetching)return!1;if(!this.#T(s))return i&&this.#U(s),r&&(r.has="hit",this.#I(r,s)),!0;r&&(r.has="stale",this.#I(r,s))}else r&&(r.has="miss");return!1}peek(t,e={}){let{allowStale:i=this.allowStale}=e,r=this.#l.get(t);if(void 0===r||!i&&this.#T(r))return;let s=this.#f[r];return this.#L(s)?s.__staleWhileFetching:s}#x(w,E,A,S){let t=void 0===E?void 0:this.#f[E];if(this.#L(t))return t;let e=new a,{signal:i}=A;i?.addEventListener("abort",()=>e.abort(i.reason),{signal:e.signal});let r={signal:e.signal,options:A,context:S},s=(t,i=!1)=>{let{aborted:s}=e.signal,n=A.ignoreFetchAbort&&void 0!==t;return(A.status&&(s&&!i?(A.status.fetchAborted=!0,A.status.fetchError=e.signal.reason,n&&(A.status.fetchAbortIgnored=!0)):A.status.fetchResolved=!0),!s||n||i)?(this.#f[E]===l&&(void 0===t?l.__staleWhileFetching?this.#f[E]=l.__staleWhileFetching:this.#O(w,"fetch"):(A.status&&(A.status.fetchUpdated=!0),this.set(w,t,r.options))),t):o(e.signal.reason)},n=t=>(A.status&&(A.status.fetchRejected=!0,A.status.fetchError=t),o(t)),o=t=>{let{aborted:i}=e.signal,r=i&&A.allowStaleOnFetchAbort,s=r||A.allowStaleOnFetchRejection,n=s||A.noDeleteOnFetchRejection;if(this.#f[E]===l){let t=!n||void 0===l.__staleWhileFetching;t?this.#O(w,"fetch"):r||(this.#f[E]=l.__staleWhileFetching)}if(s)return A.status&&void 0!==l.__staleWhileFetching&&(A.status.returnedStale=!0),l.__staleWhileFetching;if(l.__returned===l)throw t},h=(i,n)=>{let o=this.#n?.(w,t,r);o&&o instanceof Promise&&o.then(t=>i(void 0===t?void 0:t),n),e.signal.addEventListener("abort",()=>{(!A.ignoreFetchAbort||A.allowStaleOnFetchAbort)&&(i(void 0),A.allowStaleOnFetchAbort&&(i=t=>s(t,!0)))})};A.status&&(A.status.fetchDispatched=!0);let l=new Promise(h).then(s,n),u=Object.assign(l,{__abortController:e,__staleWhileFetching:t,__returned:void 0});return void 0===E?(this.set(w,u,{...r.options,status:void 0}),E=this.#l.get(w)):this.#f[E]=u,u}#L(L){return!!this.#A&&!!L&&L instanceof Promise&&L.hasOwnProperty("__staleWhileFetching")&&L.__abortController instanceof a}async fetch(t,e={}){let{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:n=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:h=0,sizeCalculation:a=this.sizeCalculation,noUpdateTTL:l=this.noUpdateTTL,noDeleteOnFetchRejection:u=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:f=this.allowStaleOnFetchRejection,ignoreFetchAbort:c=this.ignoreFetchAbort,allowStaleOnFetchAbort:p=this.allowStaleOnFetchAbort,context:d,forceRefresh:g=!1,status:y,signal:v}=e;if(!this.#A)return y&&(y.fetch="get"),this.get(t,{allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,status:y});let b={allowStale:i,updateAgeOnGet:r,noDeleteOnStaleGet:s,ttl:n,noDisposeOnSet:o,size:h,sizeCalculation:a,noUpdateTTL:l,noDeleteOnFetchRejection:u,allowStaleOnFetchRejection:f,allowStaleOnFetchAbort:p,ignoreFetchAbort:c,status:y,signal:v},m=this.#l.get(t);if(void 0===m){y&&(y.fetch="miss");let e=this.#x(t,m,b,d);return e.__returned=e}{let e=this.#f[m];if(this.#L(e)){let t=i&&void 0!==e.__staleWhileFetching;return y&&(y.fetch="inflight",t&&(y.returnedStale=!0)),t?e.__staleWhileFetching:e.__returned=e}let s=this.#T(m);if(!g&&!s)return y&&(y.fetch="hit"),this.#k(m),r&&this.#U(m),y&&this.#I(y,m),e;let n=this.#x(t,m,b,d),o=void 0!==n.__staleWhileFetching,h=o&&i;return y&&(y.fetch=s?"stale":"refresh",h&&s&&(y.returnedStale=!0)),h?n.__staleWhileFetching:n.__returned=n}}async forceFetch(t,e={}){let i=await this.fetch(t,e);if(void 0===i)throw Error("fetch() returned undefined");return i}memo(t,e={}){let i=this.#o;if(!i)throw Error("no memoMethod provided to constructor");let{context:r,forceRefresh:s,...n}=e,o=this.get(t,n);if(!s&&void 0!==o)return o;let h=i(t,o,{options:n,context:r});return this.set(t,h,n),h}get(t,e={}){let{allowStale:i=this.allowStale,updateAgeOnGet:r=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:n}=e,o=this.#l.get(t);if(void 0!==o){let e=this.#f[o],h=this.#L(e);return(n&&this.#I(n,o),this.#T(o))?(n&&(n.get="stale"),h)?(n&&i&&void 0!==e.__staleWhileFetching&&(n.returnedStale=!0),i?e.__staleWhileFetching:void 0):(s||this.#O(t,"expire"),n&&i&&(n.returnedStale=!0),i?e:void 0):(n&&(n.get="hit"),h)?e.__staleWhileFetching:(this.#k(o),r&&this.#U(o),e)}n&&(n.get="miss")}#P(x,k){this.#p[k]=x,this.#c[x]=k}#k(M){M!==this.#g&&(M===this.#d?this.#d=this.#c[M]:this.#P(this.#p[M],this.#c[M]),this.#P(this.#g,M),this.#g=M)}delete(t){return this.#O(t,"delete")}#O(z,T){let t=!1;if(0!==this.#h){let e=this.#l.get(z);if(void 0!==e){if(t=!0,1===this.#h)this.#N(T);else{this.#R(e);let t=this.#f[e];if(this.#L(t)?t.__abortController.abort(Error("deleted")):(this.#E||this.#S)&&(this.#E&&this.#r?.(t,z,T),this.#S&&this.#v?.push([t,z,T])),this.#l.delete(z),this.#u[e]=void 0,this.#f[e]=void 0,e===this.#g)this.#g=this.#p[e];else if(e===this.#d)this.#d=this.#c[e];else{let t=this.#p[e];this.#c[t]=this.#c[e];let i=this.#c[e];this.#p[i]=this.#p[e]}this.#h--,this.#y.push(e)}}}if(this.#S&&this.#v?.length){let t;let e=this.#v;for(;t=e?.shift();)this.#s?.(...t)}return t}clear(){return this.#N("delete")}#N(_){for(let t of this.#z({allowStale:!0})){let e=this.#f[t];if(this.#L(e))e.__abortController.abort(Error("deleted"));else{let i=this.#u[t];this.#E&&this.#r?.(e,i,_),this.#S&&this.#v?.push([e,i,_])}}if(this.#l.clear(),this.#f.fill(void 0),this.#u.fill(void 0),this.#w&&this.#m&&(this.#w.fill(0),this.#m.fill(0)),this.#b&&this.#b.fill(0),this.#d=0,this.#g=0,this.#y.length=0,this.#a=0,this.#h=0,this.#S&&this.#v){let t;let e=this.#v;for(;t=e?.shift();)this.#s?.(...t)}}}}}]);