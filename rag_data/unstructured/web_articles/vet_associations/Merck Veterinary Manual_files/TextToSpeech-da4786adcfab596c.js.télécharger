(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8364],{49452:function(e,n,t){"use strict";var r=t(85893),l=t(67294),o=t(5817),c=t(22556),a=t(79515),u=t.n(a),s=t(4098),i=t(57823),d=t(33326),m=t(32862);let v=()=>{let{t:e}=(0,c.QT)(),{sitecoreContext:n}=(0,m.z)(),[t,a]=(0,l.useState)(!1),v=(0,l.useRef)(null),p=null==window?void 0:window.speechSynthesis,{showSpeechOverlay:x,setShowSpeechOverlay:h,direction:_,setTooltipShow:S}=(0,l.useContext)(o.ZP),T=()=>{var e,t,r;(null==n?void 0:null===(e=n.language)||void 0===e?void 0:e.toLocaleLowerCase())!=="uk"&&(null==n?void 0:null===(t=n.language)||void 0===t?void 0:t.toLocaleLowerCase())!=="uk-ua"&&(null==n?void 0:null===(r=n.language)||void 0===r?void 0:r.toLocaleLowerCase())!=="sw"?h(!x):(h(!1),a(!0)),!x&&p&&p.cancel()};return(0,l.useEffect)(()=>()=>{p&&p.cancel()},[]),(0,r.jsxs)(r.Fragment,{children:[t&&(0,r.jsxs)(s.Z,{show:t,contentClassName:"".concat(u().modalContent),className:u().modalPopup,centered:!0,children:[(0,r.jsx)("div",{className:u().title,children:e("TTSnotsupported")}),(0,r.jsx)("button",{onClick:()=>{a(!1),h(!0),S(!1)},children:e("TTSok")})]}),(0,r.jsx)("div",{ref:v,children:(0,r.jsx)("button",{onClick:T,className:u().textToSpeechIcon,"aria-label":e("TexttoSpeech"),children:(0,r.jsx)("div",{className:u().audioIcon})})}),!t&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{show:x,target:v.current,placement:"rtl"===_?"right":"left",container:v,containerPadding:20,rootClose:!1,children:(0,r.jsxs)("div",{id:"popover-sidebar",className:"".concat(u().accordianPopover," show popover ").concat("ltr"===_?"bs-popover-start":"bs-popover-end"),children:[(0,r.jsx)("div",{className:"popover-arrow"}),(0,r.jsx)(d.Z,{})]})})})]})};n.Z=v},33326:function(e,n,t){"use strict";var r=t(85893),l=t(67294),o=t(63649),c=t(5817),a=t(79515),u=t.n(a),s=t(32862),i=t(22556);let d=()=>{var e,n;let{t}=(0,i.QT)(),{sitecoreContext:a}=(0,s.z)(),{direction:d,setShowSpeechOverlay:m,currentTopicId:v,pageHeaderCurrentHeight:p}=(0,l.useContext)(c.ZP),[x,h]=(0,l.useState)(0),[_,S]=(0,l.useState)(null),[T,I]=(0,l.useState)(!1),w=window.speechSynthesis,b=(0,l.useRef)(null),f=null==window?void 0:null===(e=window.navigator)||void 0===e?void 0:null===(n=e.userAgent)||void 0===n?void 0:n.includes("Firefox"),j=()=>{var e,n;(null==b?void 0:null===(e=b.current)||void 0===e?void 0:e.currentIndex)||(h(.001),b.current={elements:Array.from(document.querySelectorAll("#container-"+v+" .readable")),currentIndex:0,isPaused:!1}),(null==b?void 0:null===(n=b.current)||void 0===n?void 0:n.isPaused)&&(I(!1),b.current.isPaused=!1);let t=()=>new Promise(e=>{if(b.current){var n,t,r,l,o,c,u,s,i,d;let v=b.current.currentIndex,x=v+1<b.current.elements.length,S=f&&("user"===_||"play"===_)&&x?b.current.elements[v+1].textContent:b.current.elements[v].textContent,T=new window.SpeechSynthesisUtterance(null!=S?S:"");T.lang=(null==a?void 0:a.language)?null==a?void 0:a.language:"en",T.addEventListener("end",()=>{var n,t;if(b.current&&(h(Math.min((v+1)/b.current.elements.length*100,100)),b.current.currentIndex++,e(b.current.currentIndex)),(null==b?void 0:null===(n=b.current)||void 0===n?void 0:null===(t=n.elements)||void 0===t?void 0:t.length)===v+1){w.cancel(),m(!1);let e=document.querySelectorAll(".readable.current");Array.from(e).map(e=>{e.classList.remove("current")})}}),T.addEventListener("pause",()=>{w.resume()}),v>0&&(null===(o=null==b?void 0:null===(c=b.current)||void 0===c?void 0:c.elements[v-1])||void 0===o||null===(u=o.classList)||void 0===u||u.remove("current"),null===(s=null==b?void 0:null===(i=b.current)||void 0===i?void 0:i.elements[v+1])||void 0===s||null===(d=s.classList)||void 0===d||d.remove("current")),null===(n=null==b?void 0:null===(t=b.current)||void 0===t?void 0:t.elements[v])||void 0===n||null===(r=n.classList)||void 0===r||r.add("current");let I=null===(l=b.current.elements[v])||void 0===l?void 0:l.getBoundingClientRect(),j=(null==I?void 0:I.top)+window.scrollY-p-240;if(window.scrollTo(window.scrollX,j),w.speak(T),!f){let e=setInterval(()=>{w.speaking?(w.pause(),w.resume()):clearInterval(e)},14e3)}}});setTimeout(async()=>{for(;b.current&&!b.current.isPaused&&b.current.currentIndex<b.current.elements.length;)await t()},0)},k=()=>{w.cancel(),b.current&&(b.current.isPaused=!0),I(!0),S("pause")},g=()=>{if(S("play"),b.current){var e;(null==b?void 0:null===(e=b.current)||void 0===e?void 0:e.currentIndex)>=1&&b.current.currentIndex--}j()},C=()=>{if(w.cancel(),S("play"),b.current){var e;(null==b?void 0:null===(e=b.current)||void 0===e?void 0:e.currentIndex)>=1&&b.current.currentIndex}j()},y=()=>{null==w||w.cancel(),b.current&&(b.current.isPaused=!!f,b.current.currentIndex=0),h(0),I(!0),m(!1);let e=document.querySelectorAll(".readable.current");Array.from(e).map(e=>{e.classList.remove("current")})},N=()=>{x>.001&&(null==w||w.cancel(),b.current&&(f&&b.current.currentIndex--,b.current.currentIndex--,f||h(Math.min((b.current.currentIndex+1)/b.current.elements.length*100,100))),S("user"),j())},P=()=>{if(null==w||w.cancel(),b.current){!f&&b.current.currentIndex++;let e=b.current.elements.length,n=b.current.currentIndex,t=n>=e-1,r=(n+1)/e*100;if(r=Math.floor(r),t&&(r=99),f?t&&h(Math.min(r,100)):h(Math.min(r,100)),n>=e){null==w||w.cancel(),m(!1);let e=document.querySelectorAll(".readable.current");Array.from(e).map(e=>{e.classList.remove("current")})}}S("user"),f?C():j()};(0,l.useEffect)(()=>{f&&setTimeout(()=>{var e,n;S("auto"),(null==b?void 0:null===(e=b.current)||void 0===e?void 0:e.currentIndex)&&(null==b?void 0:null===(n=b.current)||void 0===n?void 0:n.currentIndex)>=1&&j()},1e3)},[]);let L=e=>{h(Math.min(e,100));let n=document.querySelectorAll(".readable.current");Array.from(n).map(e=>{e.classList.remove("current")}),b.current||(b.current={elements:Array.from(document.querySelectorAll("#container-"+v+" .readable")),currentIndex:0,isPaused:!1}),b.current.isPaused=!0;let t=Math.round(b.current.elements.length*e/100);b.current.currentIndex=t,null==w||w.cancel(),j()},B=e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation())};return(0,r.jsxs)("div",{className:u().textToSpeech,"data-testid":"TextToSpeech",children:[(0,r.jsx)("div",{children:(0,r.jsx)("button",{className:u().closeIcon,dir:d,"aria-label":"close","data-testid":"closeBtn",onClick:y,onKeyDown:e=>{"Enter"===e.key&&y()},tabIndex:0})}),(0,r.jsxs)("div",{className:u().mediaButtonContainer,children:[(0,r.jsx)("button",{onClick:N,className:u().mediaButtons,"data-testid":"prevBtn","aria-label":t("Previous"),children:(0,r.jsx)("div",{className:u().previousIcon})}),(0,r.jsx)("button",{onClick:()=>{T||0===x||100===x?f?g():j():k()},"aria-label":t(T||0===x||100===x?"Play":"Pause"),"data-testid":"playBtn",className:u().mediaButtons,children:T||0===x||100===x?(0,r.jsx)("div",{className:u().playIcon}):(0,r.jsx)("div",{className:u().pauseIcon})}),(0,r.jsx)("button",{onClick:y,className:u().mediaButtons,"data-testid":"stopBtn","aria-label":t("Stop"),children:(0,r.jsx)("div",{className:u().stopIcon})}),(0,r.jsx)("button",{onClick:P,className:u().mediaButtons,disabled:x>=100,"data-testid":"nxtBtn","aria-label":t("Next"),children:(0,r.jsx)("div",{className:u().nextIcon})})]}),(0,r.jsx)("div",{"data-testid":"sliderWrapper",onKeyDown:B,children:(0,r.jsx)(o.Z,{min:0,max:100,value:x,className:u().customSlider,thumbClassName:"customSlider-thumb",trackClassName:"customSlider-track",markClassName:"customSlider-mark",ariaLabel:t("Slider"),"data-testid":"slider",renderMark:e=>{let n=(null==e?void 0:e.key)?null==e?void 0:e.key:0;return n<x?e.className="customSlider-mark customSlider-mark-before":n===x&&(e.className="customSlider-mark customSlider-mark-active"),(0,r.jsx)("span",{...e})},onSliderClick:e=>{L(e)},onChange:e=>{L(e)}})}),(0,r.jsx)("div",{className:u().completion,children:Math.round(100*x/100)+"%"})]})};n.Z=d},79515:function(e){e.exports={modalPopup:"TextToSpeech_modalPopup__unh2u",title:"TextToSpeech_title__6npqr",modalContent:"TextToSpeech_modalContent__bYf8s",textToSpeech:"TextToSpeech_textToSpeech__Rc4jb",closeIcon:"TextToSpeech_closeIcon__OTPDm",mediaButtonContainer:"TextToSpeech_mediaButtonContainer__TuD7O",previousIcon:"TextToSpeech_previousIcon__Mx5V1",playIcon:"TextToSpeech_playIcon__xUp6r",pauseIcon:"TextToSpeech_pauseIcon__SwOKR",stopIcon:"TextToSpeech_stopIcon__zEqhE",nextIcon:"TextToSpeech_nextIcon__9Zqrq",mediaButtons:"TextToSpeech_mediaButtons__mFdx_",customSlider:"TextToSpeech_customSlider__502Lc",completion:"TextToSpeech_completion__PWBPj","customSlider-mark":"TextToSpeech_customSlider-mark__jhKCT",accordianPopover:"TextToSpeech_accordianPopover__DLExY",textToSpeechIcon:"TextToSpeech_textToSpeechIcon__tO8El",audioIcon:"TextToSpeech_audioIcon__ugNB5"}}}]);