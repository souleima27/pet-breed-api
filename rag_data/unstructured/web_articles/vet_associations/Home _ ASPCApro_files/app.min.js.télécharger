var lazyConfig={rootMargin:"200px 0px"};document.addEventListener("DOMContentLoaded",function(){var o,s,i,t=[].slice.call(document.querySelectorAll("img.lazy")),t=("IntersectionObserver"in window?(o=new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting&&((t=t.target).src=t.dataset.src,o.unobserve(t))})},lazyConfig),t.forEach(function(t){o.observe(t)})):t.forEach(function(t){t.src=t.dataset.src}),[].slice.call(document.querySelectorAll("div.lazy-bg"))),t=("IntersectionObserver"in window?(s=new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting&&((t=t.target).setAttribute("style","background-image: url('"+t.dataset.src+"');"),s.unobserve(t))})},lazyConfig),t.forEach(function(t){s.observe(t)})):t.forEach(function(t){t.setAttribute("style","background-image: url('"+t.dataset.src+"');")}),[].slice.call(document.querySelectorAll("div.lazy-bg-resp")));"IntersectionObserver"in window?(i=new IntersectionObserver(function(t,e){t.forEach(function(t){t.isIntersecting&&((t=t.target).setAttribute("id",t.dataset.id),i.unobserve(t))})},lazyConfig),t.forEach(function(t){i.observe(t)})):t.forEach(function(t){t.setAttribute("id",t.dataset.id)})}),function(m){function c(){m(window).width()<450?m("#header-search input").attr("placeholder","Search..."):m("#header-search input").attr("placeholder","Search the site...")}function d(t){function e(t){void 0!==t.which&&27===t.which&&c()}function o(t){r&&(m(s).find("iframe").attr("src",""),m(s).find("iframe").attr("src",f)),h&&m(s).css("top",m(window).scrollTop()),m(s).addClass("js-show"),setTimeout(function(){m(s).addClass("js-visual-show")},100),m(s).attr("aria-hidden","false"),m(s).attr("tabindex",-1),setTimeout(function(){(a?m(s).find(a):m(s)).focus()},150),m(document).keydown(e)}var s=t.elementer,i=t.showTrigger,n=t.hideTrigger,d=t.hideTrigger2,u=t.hideTrigger3,a=t.focuser,h=(t.temporarylaunch,t.adjustposition),r=t.videor,l=m(s).find("iframe").attr("src"),f=l+"?autoplay=1&loop=1&rel=0&wmode=transparent&showinfo=0",c=function(t){m(s).removeClass("js-visual-show"),setTimeout(function(){m(s).removeClass("js-show")},500),m(s).attr("aria-hidden","true"),m(s).removeAttr("tab-index"),m(document).off("keydown",e),setTimeout(function(){m(i).focus()},100),r&&(m(s).find("iframe").attr("src",""),m(s).find("iframe").attr("src",l))};m(i).click(function(t){t.preventDefault(),o()}),m(n+", "+d+", "+u).click(function(t){t.preventDefault(),c(t)}),t.temporarylaunch&&m(document).ready(function(t){m("body").hasClass("launch-modal-on-load")&&o()})}function o(t,e){m(t).length?e():setTimeout(function(){o(t,e)},200)}s={};var s,u,t,i,n,e,a,r,h,l,f,p=function(t,e,o){s[o=o||"Don't call this twice without a uniqueId"]&&clearTimeout(s[o]),s[o]=setTimeout(t,e)};m(document).ready(function(){var t,o,s;t=["#header-social"],o="#mobile-area-offcanvas .overlay__content",s="--mobile",m.each(t,function(t,e){m(e).clone(!0).appendTo(o).find("[id!=''][id]").addBack("[id!=''][id]").each(function(t,e){m(this).attr("id",m(this).attr("id")+s)}).find("[for!=''][for]").addBack("[for!=''][for]").each(function(t,e){m(this).attr("for",m(this).attr("for")+s)})})}),m(document).ready(function(){c()}),m(window).resize(function(){p(function(){c()},500,"search placeholder")}),m(l={parent:".nav-accordian",icon:'<svg width="12" height="6" viewBox="0 0 12 6" xmlns="http://www.w3.org/2000/svg"><title>Triangle Copy 2</title><path d="M6 5.514L0 0h12z" fill="#FFFFFF" fill-rule="evenodd"/></svg>'}).length&&(t=l.parent,l=l.icon,m(t).find("a").siblings("ul").before('<button type="button" class="accordian-trigger">'+l+"</button>")),m(document).ready(function(){m(".job-post-alert").length&&(document.cookie.match(/^(.*;)?\s*job_post_alert_accepted\s*=\s*[^;]+(.*)?$/)||m(".job-post-alert").slideDown(400,"linear",function(){m(this).closest(".job-post-alert .button").slideDown(400,"linear")}))}),m(".job-post-alert .button.accept").click(function(){document.cookie="job_post_alert_accepted=1; expires=0; path=/",m(this).closest(".button.mega").slideUp(400,"linear",function(){m(this).closest(".job-post-alert").slideUp(400,"linear")})}),m(".accordian-trigger").click(function(){m(this).parent().toggleClass("is-open"),m(this).siblings("ul").slideToggle()}),m("#offcanvas-close").click(function(){m(".overlay").find(".is-open").removeClass("is-open"),m(".overlay").find("a").siblings("ul").slideUp()}),m(".header__middle-waypoint").length&&m(document).height()>m(window).height()+80&&(u=new Waypoint({element:m(".header__middle-waypoint"),handler:function(t){"down"===t?m(".header").addClass("js-stickynav"):"up"===t&&m(".header").removeClass("js-stickynav")}})),m(window).resize(function(){p(function(){u&&m(document).height()<m(window).height()+80&&(u.destroy(),m(".header").removeClass("js-stickynav"))},500,"sticky header")}),m(".header__middle").length&&new Waypoint.Sticky({element:m(".header__middle")[0]}),m(".post__social-wrap").length&&(m(".post__social-wrap").imagesLoaded(function(){m(".post__sticky").affix({offset:{top:m(".post__social-wrap").offset().top-63,bottom:m(document).outerHeight()-m(".post__social-wrap").outerHeight()-m(".post__social-wrap").offset().top+63+60}})}),m(window).resize(function(){p(function(){m(window).off(".affix"),m(".post__sticky").removeData("bs.affix").removeClass("affix affix-top affix-bottom")},500,"sticky social")})),d({elementer:"#modal",hideTrigger:"#modal-close",hideTrigger2:"#modal-close-alt",hideTrigger3:"#modal .overlay__cover",temporarylaunch:!0,adjustposition:!0}),d({elementer:"#mobile-area-offcanvas",showTrigger:"#mobile-trigger",hideTrigger:"#offcanvas-close"}),l=(t={tab_nav_item:".homehero-item",tab_nav:".homehero__top",tab_content:".homehero__bottom",tab_content_item:".homehero-item__bottom",tab_wrapper:".homehero"}).tab_nav_item,i=t.tab_nav,n=t.tab_content,e=t.tab_content_item,a=t.tab_wrapper,m(a).length&&(m("body").imagesLoaded(function(){m(n).each(function(){var t=m(this).children("div").children('div[aria-hidden="false"]').height();m(this).children("div").height(t)})}),m(l).find("a").on("click",function(t){t.preventDefault();var o=m(this).attr("aria-controls"),s=m(this);"true"==s.attr("aria-expanded")?(s.attr("aria-expanded",!1),s.closest("li").removeClass("is-active"),s.closest(a).find(e).attr("aria-hidden",!0),s.closest(a).find(m("#"+o)).removeClass("js-visual-show"),s.closest(i).removeClass("has-shadow"),setTimeout(function(t){s.closest(a).find(m("#"+o)).removeClass("js-show")},400),setTimeout(function(t){setTimeout(function(){s.closest(a).find(n).outerHeight(0)},10)},10)):(s.closest("li").siblings("li").removeClass("is-active"),s.closest(a).find(e).attr("aria-hidden",!0),s.closest(a).find(e).not(m("#"+o)).removeClass("js-visual-show"),s.closest("li").siblings("li").find("a").attr("aria-expanded",!1),s.closest(i).removeClass("has-shadow"),s.closest("li").addClass("is-active"),m("#"+o).attr("aria-hidden",!1),setTimeout(function(t){m("#"+o).addClass("js-show");var e=m("#"+o).outerHeight();setTimeout(function(){m("#"+o).addClass("js-visual-show"),s.closest(a).find(n).outerHeight(e),s.closest(i).addClass("has-shadow"),s.attr("aria-expanded",!0)},10)},10),setTimeout(function(t){s.closest(a).find(e).not(m("#"+o)).removeClass("js-show")},400))})),m(".homehero-item__top-title").length&&m(".homehero-item__top-title").matchHeight(),Drupal.behaviors.customFacets={attach:function(a){function t(t,e,o){function s(){m(t).removeAttr("data-open"),m(e).removeClass("js-visual-show"),setTimeout(function(){m(e).removeClass("js-show")},100),m(document).off("click",n),m(document).off("keydown",i),m(o).attr("aria-hidden","true")}let i=function(t){void 0!==t.which&&27===t.which&&s()},n=function(t){m(t.target).closest(e).length||s()};m(once("bind-click-element",t,a)).each(function(){m(this).on("click",function(){m(this).attr("data-open",function(){return m(this).closest(e).hasClass("js-show")?"no":"yes"}),m(this).closest(e).toggleClass("js-visual-show js-show"),setTimeout(function(){m(this).closest(e).toggleClass("js-visual-show js-show"),m(document).click(n)},100),m(document).keydown(i),m(this).closest(e).find(o).attr("aria-hidden",function(){return m(this).closest(e).hasClass("js-show")?"false":"true"})})})}t(".topic-drop__label",".topic-drop",".topic-drop__content"),t(".input-drop__label",".input-drop",".input-drop__content"),t(".pagenav-drop__label",".pagenav-drop",".pagenav-drop__content")}},m(document).ready(function(){var t;m(".pagenav__bullets").length&&(3<(t=m(".pagenav__bullets li").length)&&t<9?m(".pagenav__bullets ul").columnlist({size:2,class:"js-column-list",incrementClass:"js-column-list-"}):8<t?m(".pagenav__bullets ul").columnlist({size:3,class:"js-column-list",incrementClass:"js-column-list-"}):m(".pagenav__bullets ul").columnlist({size:1,class:"js-column-list",incrementClass:"js-column-list-"}))}),m(".newsletter-form form").each(function(){this.reset()}),m(once("html",".js-modal-btn")).modalVideo(),m(".post-carousel__cells").length&&(r=m(".post-carousel__cells").flickity({adaptiveHeight:!0,contain:!0,imagesLoaded:!0,pageDots:!1}),h=r.data("flickity"),l=m(".post-carousel__nav"),f=l.find(".post-carousel__nav-item"),r.on("select.flickity",function(){f.filter(".is-selected").removeClass("is-selected"),f.eq(h.selectedIndex).addClass("is-selected")}),l.on("click",".post-carousel__nav-item",function(){var t=m(this).index();r.flickity("select",t)})),m(".post-stack__accordian").length&&(m(".post-stack__accordian-trigger").on("click",function(){m(this).closest(".post-stack__accordian").toggleClass("js-open"),m(this).siblings(".post-stack__accordian-content").slideToggle()}),m(".post-stack__accordian-close").on("click",function(){m(this).closest(".post-stack__accordian").removeClass("js-open"),m(this).closest(".post-stack__accordian-content").slideUp(),m("html, body").animate({scrollTop:m(this).closest(".post-stack__accordian").offset().top-80},500)})),m(".image-card__vertical .card__img:not(:has(img))").css({"min-height":"357px","background-color":"#b6b8b9"}),Drupal.theme.prototype.ProModalDialog=function(){var t="";t+='  <div id="ctools-modal">';return'  <div id="ctools-modal">    <button id="modal-close" class="modal-default__close" type="button" aria-label="Close Dialog"> <svg width="21" height="22" viewBox="0 0 21 22" xmlns="http://www.w3.org/2000/svg"><title>Close</title><path d="M13.035 10.678l7.66-7.66L17.749.07l-7.66 7.66L3.016.661.071 3.606l7.071 7.07-7.07 7.072 2.945 2.946 7.071-7.071 7.66 7.66 2.947-2.946-7.66-7.66z"></path></svg></button>    <div class="ctools-modal-content">      <div id="modal-content" class="modal-content">      </div>    </div>  </div>'},Drupal.behaviors.checkboxTrigger={attach:function(t){m(once("html",".input-drop__checkbox-trigger")).each(function(){m(this).on("click",function(){m(this).parent().toggleClass("is-open"),m(this).siblings("ul").slideToggle()})})}};o("#header-newsletter .hbspt-form .hs-input",function(){m("#header-newsletter form").prepend('<div class="text-s2 medium">Get weekly updates about webinars, grants &amp; resources</div>')}),o(".hbspt-form .hs-input",function(){m('.hbspt-form .hs-input[name="firstname"]').attr("placeholder","First Name"),m('.hbspt-form .hs-input[name="email"]').attr("placeholder","Email Address")}),m(".newsletter-form").length&&o(".newsletter-form .hbspt-form .hs-input",function(){m(once("html",".newsletter-form .hs-firstname label span:first-child")).text("First Name"),m(once("html",".newsletter-form .hs-email label span:first-child")).text("Email Address"),m(".newsletter-form .hs-firstname input").attr("placeholder",""),m(".newsletter-form .hs-email input").attr("placeholder",""),m(".newsletter-form input").blur(function(){m(this).val()?m(this).parents(".hs-form-field").addClass("js-not-empty"):m(this).parents(".hs-form-field").removeClass("js-not-empty")}),m(".newsletter-form input").focus(function(){m(this).parents(".hs-form-field").addClass("js-focus")}),m(".newsletter-form label").click(function(){m(this).parents(".hs-form-field").addClass("js-focus"),m(this).parent().find("input").focus()}),m(".newsletter-form input").focusout(function(){m(this).parents(".hs-form-field").removeClass("js-focus")})})}(jQuery,Drupal),reframe(".media-oembed-content"),reframe(".fluid-width-video-wrapper iframe"),function(o){Drupal.behaviors.appFacets={attach:function(t,e){o(".input-drop__checkbox > label").click(function(){window.location=o(this).attr("data-link")})}}}(jQuery);